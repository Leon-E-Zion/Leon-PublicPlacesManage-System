# 实现情况
- 核心功能
  - 行人检测
    - 已实现
  - 行人追查
    - 已实现
  ---
- 附属功能
  - 疫情
    - 口罩检测
      - 已实现
    - 阳性患者密接获取 - 时空跟随者优化
      - 已实现
  - 摔倒检测
      - 已实现
  - 抽烟检测
      - 已实现
  - 暴力行为检测
      - 未实现
  - 行人属性分析
      - 已实现
  ---
- 数据可视化
  - 功能
    - 过路人数
    - 目标人物出现情况
    - 相关行为检测结果
      - 抽烟检测
      - 暴力行为检测
      - 摔倒不起检测
---
# 实现思路
- 检测部分的demo全部参考 yolo_infer，毕竟使用的是同一套代码（口罩、行人、摔倒、抽烟）
- 行人重识别部分采用 行人检测模型 配合reid模型实现
- 行人属性分析采用 passer-attribute_get.py 实现
- 行人距离检测
  - 通过距离与当前人物框格大小做对比判断是否距离过近
 ---
- 首先 全部实现 各个检测器基于PIL.Image传入图片并处理的操作
- 然后实现 相关参数的修改与存储操作
- 为每个项目制作相关的数据摘要库
---
# 对接思路
- Yolo-行人检测器 后跟随
  - 重识别检测器
  - 距离判断检测器
    - 当相对靠近时，将人物之间使用线条连接并记录
- yolov5-deepsort追踪器
  - 指定目录 获取关键人物信息

---
# 数据传入思路
- 前后端通过调用各个接口将数据写入到指定的yaml文件中
---
# 任务函数选择
- 将所有任务函数进行统一封装，便于后续开发
- 设计一个灵活而函数选择器
    - 输入任务参数与图片 对图片进行相关的任务处理
- 先统一封装，再考虑函数选择器的设计
    - 封装时注意一个思路
        - 需要先初始化检测器再使用检测器进行检测
        - 简单的说，所有检测函数，为保证整体的运行速率，都应该拆分为两部分进行项目的构建
    - 实际实现
        - 构造相关对象：任务函数选择
        - 在 init 时进行无差别的全部函数初始化
        - 相关的检测器的相关参数也通过封装实现，大对象中内含多个小对象
        - 建立映射表 - 对应参数 调用对应方法进行处理
        - 统一输入为原图的输出，并将相关分析结果整合至yolo_output,最终批量可视化
